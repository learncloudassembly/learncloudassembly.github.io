<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Resource Actions - Learn Cloud Assembly</title><meta name=description content="Part of VMware vRealize Automation"><meta name=generator content="Hugo 0.83.1"><link href=https://learncloudassembly.github.io/index.xml rel=alternate type=application/rss+xml><link rel=canonical href=https://learncloudassembly.github.io/Design/Resource_Actions/><link rel=stylesheet href=https://learncloudassembly.github.io/css/theme.css><link rel=stylesheet href=/css/lightbox.min.css><link rel=stylesheet href=/css/custom.css><script src=https://use.fontawesome.com/releases/v5.0.6/js/all.js></script><link rel=stylesheet href=https://learncloudassembly.github.io/css/chroma.min.css><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script><script src=https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script src=https://learncloudassembly.github.io/js/bundle.js></script><script src=/js/lightbox.min.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WTWNGD06LB"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-WTWNGD06LB')</script><style>:root{--custom-font-color:#0065ab;--custom-background-color:#FFFFFF}</style><meta property="og:title" content="Resource Actions"><meta property="og:description" content="Part of VMware vRealize Automation"><meta property="og:type" content="website"><meta property="og:url" content="https://learncloudassembly.github.io/Design/Resource_Actions/"><meta property="og:image" content="https://learncloudassembly.github.io/images/orchestrator-tile.png"><meta property="og:site_name" content="Learn Cloud Assembly"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://learncloudassembly.github.io/images/orchestrator-tile.png"><meta name=twitter:title content="Resource Actions"><meta name=twitter:description content="Part of VMware vRealize Automation"><meta itemprop=name content="Resource Actions"><meta itemprop=description content="Part of VMware vRealize Automation"></head><body><div class=container><header><div class=header-image><img src=/images/cloud-assembly.png alt="Learn Cloud Assembly"></div><div class=header><div class=header-h1><h1 class=header-h1>Learn Cloud Assembly</h1></div><div class=header-description><p class=description>Part of VMware vRealize Automation</p></div></div></header><div class=global-menu><nav><ul><li><a href=/>Home</a></li><li><a href=/Resources>Resources</a></li><li><a href=/Design>Design</a></li><li><a href=/Infrastructure>Infrastructure</a></li><li><a href=/Extensibility>Extensibility</a></li><li><a href=/Tenant-Management>Tenant Management</a></li><li><a href=/Marketplace>Marketplace</a></li><li><a href=/Alerts>Alerts</a></li></ul></nav></div><div class=content-container><main><h1>Resource Actions</h1><p>In addition to the Day-2 actions that are already available for Resource Types within <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation
</a>, you can now configure custom Day-2 actions that make changes to your deployed resources. These custom day-2 actions are referred to in <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation</a> as <strong>Resource Actions</strong>.</p><p><strong>Building Resource Actions</strong></p><p>In order to build a Resource Action you will need to first identify the <a href=https://www.vmware.com/products/vrealize-orchestrator.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Orchestrator</a> workflow you want to use as the Day-2 Action.</p><p>Here is an example <a href=https://www.vmware.com/products/vrealize-orchestrator.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Orchestrator</a> workflow that moves a VM to another folder within vCenter. Notice the two inputs – vms and folder. Those both point to the VC (vCenter) plugin so we can query VMs and Folder in the vCenter inventory. For this example there is also an associated action within vRealize Orchestrator that searches for all the VMs by name that is bound to Resource Action, we will see how the binding is done later.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/customactionmovevmwf-1024x153.png data-lightbox=page-images data-title="Move Virtual machine to Folder"><img width=750 height=500 src=/Design/Resource_Actions/customactionmovevmwf-1024x153.png alt="Move Virtual machine to Folder"></a><figcaption class=clr-caption>Move Virtual machine to Folder</figcaption></div><p>In order to create the Resource Action just go to the Design section where we created the Custom Resource earlier. There you will see a link on the left side called Resource Actions. Fill out the form with the following information:</p><p><b>Display Name</b> – provide a name for the action</p><p><b>Description</b> – optional description</p><p><b>Activate</b> – choose this if you want the resource to be available now</p><p><b>Scope</b> – define which projects can consume this resource, if you want all projects to see this resource then just leave it to the default.</p><p><b>Resource Type</b> – resource type that you want the action bound to, such as Cloud.vSphere.Machine</p><p><b>Workflow</b> – choose the vRealize Orchestrator workflow that will run the action</p><p><b>Requires Condition</b> – choose whether you want a condition tied to the action, such as osType = Linux</p><p><b>Property Binding</b> – create and manage a binding action from vRealize Orchestrator. There are now three out-of-the-box bindings:</p><pre><code>1. in-request
2. direct
3. with binding action
</code></pre><p><b>Edit Request Parameters</b> – choose this if you want to use the Custom Designer to create a Custom Form for the user to interact with when choosing the action from the <a href=/Deployments/>deployment</a> menu.</p><p>Your Resource Action may look something like this.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/mainresourceactionpage-768x521.png data-lightbox=page-images data-title="Main Resource Action View"><img width=750 height=500 src=/Design/Resource_Actions/mainresourceactionpage-768x521.png alt="Main Resource Action View"></a><figcaption class=clr-caption>Main Resource Action View</figcaption></div><p>Now lets discuss Property Bindings in more detail. The latest update provides a few different ways to do the binding to the resource you are taking the action on. For instance in previous versions of <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation</a> 8.1 and 8.0, if you wanted to bind an action to VM you had to create a binding script and attach it to the Resource Action. A binding action may look like this:</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/customresourceactionscript.png data-lightbox=page-images data-title="Custom Resource Action Script"><img width=750 height=500 src=/Design/Resource_Actions/customresourceactionscript.png alt="Custom Resource Action Script"></a><figcaption class=clr-caption>Custom Resource Action Script</figcaption></div><p>Then just configure Return Type to <i>VC:VirtualMachine</i> and create an input called name and leave it as a string value..</p><p>The below image shows how to bind the <a href=https://www.vmware.com/products/vrealize-orchestrator.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Orchestrator</a> action to the Resource Action in the UI. Basically choose the action then for the Value add <i>${properties.resourceName}</i>, this is for <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation</a> 8.1 and 8.0.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/customactionpropertybinding.png data-lightbox=page-images data-title="Custom Resource Property Binding"><img width=750 height=500 src=/Design/Resource_Actions/customactionpropertybinding.png alt="Custom Resource Property Binding"></a><figcaption class=clr-caption>Custom Resource Property Binding</figcaption></div><p>However in <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation</a> Cloud (and <a href=https://www.vmware.com/products/vrealize-automation.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Automation</a> 8.2 or later) we now have built in binding actions and other methods to do the bindings. Below is a screenshot of the options</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/inbindingresourceactions.png data-lightbox=page-images data-title="Custom Resource Inbinding"><img width=750 height=500 src=/Design/Resource_Actions/inbindingresourceactions.png alt="Custom Resource Inbinding"></a><figcaption class=clr-caption>Custom Resource Inbinding</figcaption></div><p><strong>In-Request</strong> basically means the value will be set at request time. So the <a href=/Design/Cloud_Templates/>cloud templates</a> will find the value via a query that is defined in the YAML.</p><p><strong>direct</strong> allows you to define the property (schema) of the resource to pass as a binding (e.g., address, name, etc.) Available for primitive types and passed to input when executing action.</p><p><strong>with binding action</strong> allows you to choose a binding <a href=https://www.vmware.com/products/vrealize-orchestrator.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Orchestrator</a> action to run, we will only show actions that will bind to the Data Type (e.g. – <i>VC:VirtualMachine can use action findVcVmByVcAndVmUuid</i>)</p><p>After this has been setup you are ready to deploy a <a href=/Design/Cloud_Templates/>cloud templates</a> that has a vSphere Machine so we can then see the action to move it to a folder within the Actions menu (it could be the folder you created ealier). Remember the machine that is being deployed is a Resource Type: Cloud.vSphere.Machine, I used that Resource Type here because I want to be able to move it to another vCenter folder. After it is deployed we now see the option to “Move to a Folder” from the Actions dropdown list when you click on the vSphere machine on the canvas. Once that action is chosen the user will be prompted for the destination folder.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/customactionactionmenu-1024x435.png data-lightbox=page-images data-title="Custom Action Menu"><img width=750 height=500 src=/Design/Resource_Actions/customactionactionmenu-1024x435.png alt="Custom Action Menu"></a><figcaption class=clr-caption>Custom Action Menu</figcaption></div><p>vRealize Automation 8.3 and later / vRealize Cloud Updates</p><p>We recently made some updates to Custom Resource and Resource Actions by allowing additional binding actions in the Edit Request Parameters section. I will showcase this being done in Resource Actions however this could also be done for Custom Resources.</p><p>Basically I will show a simple example where I want to create a custom name for snapshots based on deployment criteria. First create a resource action and then click Edit Request Parameter at the bottom of the Resource Action page.</p><p>Once in there look for a field that would create a name (in my example I used a <a href=https://www.vmware.com/products/vrealize-orchestrator.html target=_blank><i class="fa fa-external-link-alt fa-sm" aria-hidden=true></i> vRealize Orchestrator</a> Workflow called “Create a Snapshot” and one of the fields is the Snapshot name).</p><p>Now we can modify the Properties of that name field.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/constantvalue-600x325.png data-lightbox=page-images data-title="Constant Value"><img width=750 height=500 src=/Design/Resource_Actions/constantvalue-600x325.png alt="Constant Value"></a><figcaption class=clr-caption>Constant Value</figcaption></div><p>By using the Value Source = Computed Value and Operator = Concatenate, additional fields and be put together to ultimately create the name we want.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/allfields-600x373.png data-lightbox=page-images data-title="All Fields"><img width=750 height=500 src=/Design/Resource_Actions/allfields-600x373.png alt="All Fields"></a><figcaption class=clr-caption>All Fields</figcaption></div><p>Now that the two fields have been concatenated we should see a naming pattern that matches the values in our Day 2 action. Lets see how it look when the createsnap action is initiated by the user on a vsphere machine that has been deployed.</p><div class=clr-content-image-wrap><a href=/Design/Resource_Actions/combinedfieldsaction.png data-lightbox=page-images data-title="Combined Fields Action"><img width=750 height=500 src=/Design/Resource_Actions/combinedfieldsaction.png alt="Combined Fields Action"></a><figcaption class=clr-caption>Combined Fields Action</figcaption></div><p>The snapshot name combined the two values to create the desired name.</p><div class=edit-meta>Last updated on 2 Jul 2021<br><a href=https://github.com/cmbu-tmm-sites/learncloudassembly/edit/main/content/Design/Resource_Actions/_index.md class=edit-page><i class="fas fa-pen-square"></i>&nbsp;Edit on GitHub</a></div><nav class=pagination><a class="nav nav-prev" href=https://learncloudassembly.github.io/Design/Custom_Resources/ title="Custom Resources"><i class="fas fa-arrow-left" aria-hidden=true></i>&nbsp;Prev - Custom Resources</a>
<a class="nav nav-next" href=https://learncloudassembly.github.io/Infrastructure/ title=Infrastructure>Next - Infrastructure <i class="fas fa-arrow-right" aria-hidden=true></i></a></nav><footer><p class=powered>Powered by <a href=https://gohugo.io>Hugo</a>. Theme adapted from <a href=https://github.com/thingsym/hugo-theme-techdoc>Thingsym</a>.</p></footer></main><div class=sidebar><nav class=slide-menu><ul><li><a href=https://learncloudassembly.github.io>Home</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Resources/>Resources<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Resources/Deployments/>Deployments</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Resources/Resources/>Resources<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Resources/Resources/All-Resources/>All Resources</a></li><li><a href=https://learncloudassembly.github.io/Resources/Resources/Virtual-Machines/>Virtual Machines</a></li><li><a href=https://learncloudassembly.github.io/Resources/Resources/Volumes/>Volumes</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Resources/Resources/Networking-and-Security/>Networking and Security<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Resources/Resources/Networking-and-Security/Networks/>Networks</a></li><li><a href=https://learncloudassembly.github.io/Resources/Resources/Networking-and-Security/Load-Balancers/>Load Balancers</a></li><li><a href=https://learncloudassembly.github.io/Resources/Resources/Networking-and-Security/Security-Groups/>Security Groups</a></li></ul></li></ul></li></ul></li><li class="parent has-sub-menu"><a href=https://learncloudassembly.github.io/Design/>Design<span class="mark opened">-</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Design/Cloud_Templates/>Cloud Templates</a></li><li><a href=https://learncloudassembly.github.io/Design/Property_Groups/>Property Groups</a></li><li><a href=https://learncloudassembly.github.io/Design/Custom_Resources/>Custom Resources</a></li><li class="parent active"><a href=https://learncloudassembly.github.io/Design/Resource_Actions/>Resource Actions</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/>Infrastructure<span class="mark closed">+</span></a><ul class=sub-menu><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/Administration/>Administration<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Infrastructure/Administration/Projects/>Projects</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Administration/Custom-Names/>Custom Names</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Administration/Users-and-Groups/>Users and Groups</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Administration/Custom-Roles/>Custom Roles</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Administration/Secrets/>Secrets</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/Configure/>Configure<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Cloud-Zones/>Cloud Zones</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Virtual-Private-Zones-Technical-Preview/>Virtual Private Zones - Technical Preview</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Kubernetes-Zones/>Kubernetes Zones</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Flavor-Mappings/>Flavor Mappings</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Image-Mappings/>Image Mappings</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Network-Profiles/>Network Profiles</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Storage-Profiles/>Storage Profiles</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Pricing-Cards/>Pricing Cards</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Terraform-Versions/>Terraform Versions</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Configure/Tags/>Tags</a></li></ul></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Onboarding/>Onboarding</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/Resources/>Resources<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Compute/>Compute</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Networks/>Networks</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Security/>Security</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Storage/>Storage</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Machines/>Machines</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Volumes/>Volumes</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Resources/Kubernetes/>Kubernetes</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/Activity/>Activity<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Infrastructure/Activity/Requests/>Requests</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Activity/Events-Log/>Events Log</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Infrastructure/Connections/>Connections<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Infrastructure/Connections/Cloud-Accounts/>Cloud Accounts</a></li><li><a href=https://learncloudassembly.github.io/Infrastructure/Connections/Integrations/>Integrations</a></li></ul></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Extensibility/>Extensibility<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Extensibility/Events/>Events</a></li><li><a href=https://learncloudassembly.github.io/Extensibility/Subscriptions/>Subscriptions</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Extensibility/Library/>Library<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Extensibility/Library/Event-Topics/>Event Topics</a></li><li><a href=https://learncloudassembly.github.io/Extensibility/Library/Actions/>Actions</a></li><li><a href=https://learncloudassembly.github.io/Extensibility/Library/Workflows/>Workflows</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Extensibility/Activity/>Activity<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Extensibility/Activity/Action-Runs/>Action Runs</a></li><li><a href=https://learncloudassembly.github.io/Extensibility/Activity/Workflow-Runs/>Workflows Runs</a></li></ul></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Tenant-Management/>Tenant Management<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Tenant-Management/Tenants/>Tenants</a></li><li><a href=https://learncloudassembly.github.io/Tenant-Management/Image-Mappings/>Image Mappings</a></li><li><a href=https://learncloudassembly.github.io/Tenant-Management/Flavor-Mappings/>Flavor Mappings</a></li></ul></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Marketplace/>Marketplace<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Marketplace/Cloud-Templates/>Cloud Templates</a></li><li><a href=https://learncloudassembly.github.io/Marketplace/Images/>Images</a></li><li><a href=https://learncloudassembly.github.io/Marketplace/Downloads/>Downloads</a></li></ul></li><li><a href=https://learncloudassembly.github.io/Alerts/>Alerts</a></li><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Learn-in-5/>Learn in 5<span class="mark closed">+</span></a><ul class=sub-menu><li class=has-sub-menu><a href=https://learncloudassembly.github.io/Learn-in-5/Top-10-Cloud-Templates-features/>Top 10 Cloud Templates features<span class="mark closed">+</span></a><ul class=sub-menu><li><a href=https://learncloudassembly.github.io/Learn-in-5/Top-10-Cloud-Templates-features/User-Input/>User Input</a></li><li><a href=https://learncloudassembly.github.io/Learn-in-5/Top-10-Cloud-Templates-features/Resource-Flags/>Resource Flags</a></li></ul></li><li><a href=https://learncloudassembly.github.io/Learn-in-5/Deploy-AWS-RDS-Clusters/>Deploy AWS RDS Clusters</a></li><li><a href=https://learncloudassembly.github.io/Learn-in-5/Deploy-Tanzu-CE-AWS/>Deploy Tanzu CE AWS</a></li></ul></li></ul></nav><div class=sidebar-footer></div></div></div><a href=# id=backtothetop-fixed class=backtothetop data-backtothetop-duration=600 data-backtothetop-easing=easeOutQuart data-backtothetop-fixed-fadein=1000 data-backtothetop-fixed-fadeout=1000 data-backtothetop-fixed-bottom=10 data-backtothetop-fixed-right=20><span class="fa-layers fa-fw"><i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i></span></a></div></body></html>